# Configuration

> This page is generated by `scripts/gen_config_docs.py`. Do not edit manually.

## Minimum required

```env
LLM_API_KEY="YOUR_API_KEY"
MIKA_MASTER_ID=123456789
```

`LLM_API_KEY` and `LLM_API_KEY_LIST` are alternatives (choose one).

## Reference

| Env Key | Type | Default |
|---------|------|---------|
| `LLM_PROVIDER` | `string` | `openai_compat` |
| `LLM_BASE_URL` | `string` | `https://generativelanguage.googleapis.com/v1beta/openai/` |
| `LLM_API_KEY` | `string` | `` |
| `LLM_API_KEY_LIST` | `array` | `[]` |
| `LLM_MODEL` | `string` | `gemini-3-pro-high` |
| `LLM_FAST_MODEL` | `string` | `gemini-2.5-flash-lite` |
| `MIKA_TASK_FILTER_MODEL` | `string` | `` |
| `MIKA_TASK_SUMMARIZER_MODEL` | `string` | `` |
| `MIKA_TASK_MEMORY_MODEL` | `string` | `` |
| `LLM_EXTRA_HEADERS_JSON` | `string` | `` |
| `MIKA_MASTER_ID` | `string` | `` |
| `MIKA_MASTER_NAME` | `string` | `Sensei` |
| `MIKA_BOT_DISPLAY_NAME` | `string` | `Mika` |
| `MIKA_GROUP_WHITELIST` | `array` | `[]` |
| `MIKA_MAX_CONTEXT` | `integer` | `40` |
| `MIKA_CONTEXT_MODE` | `string` | `structured` |
| `MIKA_CONTEXT_MAX_TURNS` | `integer` | `30` |
| `MIKA_CONTEXT_MAX_TOKENS_SOFT` | `integer` | `100000` |
| `MIKA_CONTEXT_SUMMARY_ENABLED` | `boolean` | `false` |
| `MIKA_TOPIC_SUMMARY_ENABLED` | `boolean` | `false` |
| `MIKA_TOPIC_SUMMARY_BATCH` | `integer` | `25` |
| `MIKA_SEMANTIC_ENABLED` | `boolean` | `true` |
| `MIKA_SEMANTIC_MODEL` | `string` | `` |
| `MIKA_SEMANTIC_BACKEND` | `string` | `auto` |
| `MIKA_SEMANTIC_THRESHOLD` | `number` | `0.4` |
| `MIKA_MEMORY_ENABLED` | `boolean` | `false` |
| `MIKA_MEMORY_SEARCH_TOP_K` | `integer` | `5` |
| `MIKA_MEMORY_MIN_SIMILARITY` | `number` | `0.5` |
| `MIKA_MEMORY_MAX_AGE_DAYS` | `integer` | `90` |
| `MIKA_MEMORY_EXTRACT_INTERVAL` | `integer` | `3` |
| `MIKA_MEMORY_RETRIEVAL_ENABLED` | `boolean` | `false` |
| `MIKA_MEMORY_RETRIEVAL_MAX_ITERATIONS` | `integer` | `3` |
| `MIKA_MEMORY_RETRIEVAL_TIMEOUT` | `number` | `15.0` |
| `MIKA_KNOWLEDGE_ENABLED` | `boolean` | `false` |
| `MIKA_KNOWLEDGE_DEFAULT_CORPUS` | `string` | `default` |
| `MIKA_KNOWLEDGE_AUTO_INJECT` | `boolean` | `false` |
| `MIKA_KNOWLEDGE_SEARCH_TOP_K` | `integer` | `5` |
| `MIKA_KNOWLEDGE_MIN_SIMILARITY` | `number` | `0.5` |
| `MIKA_TOOL_ALLOWLIST` | `array` | `["web_search", "search_group_history", "fetch_history_images", "search_knowledge"]` |
| `MIKA_TOOL_MAX_ROUNDS` | `integer` | `5` |
| `MIKA_REACT_ENABLED` | `boolean` | `false` |
| `MIKA_REACT_MAX_ROUNDS` | `integer` | `8` |
| `MIKA_FORWARD_THRESHOLD` | `integer` | `300` |
| `MIKA_MESSAGE_SPLIT_ENABLED` | `boolean` | `false` |
| `MIKA_MESSAGE_SPLIT_THRESHOLD` | `integer` | `300` |
| `MIKA_MESSAGE_SPLIT_MAX_CHUNKS` | `integer` | `6` |
| `MIKA_REPLY_STREAM_ENABLED` | `boolean` | `false` |
| `MIKA_REPLY_STREAM_MODE` | `string` | `chunked` |
| `MIKA_REPLY_STREAM_MIN_CHARS` | `integer` | `120` |
| `MIKA_REPLY_STREAM_CHUNK_CHARS` | `integer` | `80` |
| `MIKA_REPLY_STREAM_DELAY_MS` | `integer` | `0` |
| `MIKA_LONG_REPLY_IMAGE_FALLBACK_ENABLED` | `boolean` | `true` |
| `MIKA_PROACTIVE_KEYWORDS` | `array` | `["Mika", "未花"]` |
| `MIKA_PROACTIVE_TOPICS` | `array` | `["玩游戏或讨论游戏相关话题", "抽卡或氪金相关的话题", "关于甜点、蛋糕、零食的话题", "想吃东西或讨论美食", "作业、学习或课程相关", "考试成绩或挂科相关", "Blue Archive 蔚蓝档案游戏", "科技数码或电子产品", "听歌或音乐相关话题"]` |
| `MIKA_PROACTIVE_RATE` | `number` | `0.2` |
| `MIKA_PROACTIVE_COOLDOWN` | `integer` | `30` |
| `MIKA_RELEVANCE_FILTER_ENABLED` | `boolean` | `false` |
| `MIKA_RELEVANCE_FILTER_MODEL` | `string` | `` |
| `SEARCH_PROVIDER` | `string` | `serper` |
| `SEARCH_API_KEY` | `string` | `` |
| `MIKA_SEARCH_LLM_GATE_ENABLED` | `boolean` | `false` |
| `MIKA_WEBUI_ENABLED` | `boolean` | `false` |
| `MIKA_WEBUI_TOKEN` | `string` | `` |
| `MIKA_WEBUI_BASE_PATH` | `string` | `/webui` |
| `MIKA_DREAM_ENABLED` | `boolean` | `false` |
| `MIKA_DREAM_IDLE_MINUTES` | `integer` | `30` |
| `MIKA_DREAM_MAX_ITERATIONS` | `integer` | `5` |
