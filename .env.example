# =========================
# NoneBot 基础配置
# =========================
DRIVER=~fastapi
HOST=0.0.0.0
PORT=8080
LOG_LEVEL=INFO

# =========================
# Gemini API（必配）
# =========================
# 必须配置 GEMINI_API_KEY 或 GEMINI_API_KEY_LIST 中的至少一个
GEMINI_API_KEY=""
# GEMINI_API_KEY_LIST=["sk-xxx", "sk-yyy"]

# API 基础地址（使用中转时填写；默认已是官方兼容 OpenAI 路径）
GEMINI_BASE_URL="https://generativelanguage.googleapis.com/v1beta/openai/"

# 模型名称（按你的账号可用模型调整）
GEMINI_MODEL="gemini-3-pro-high"
GEMINI_FAST_MODEL="gemini-2.5-flash-lite"

# =========================
# 身份与权限（必配）
# =========================
# 你的 QQ 号（用于管理权限；不配置会直接启动失败）
GEMINI_MASTER_ID=0
GEMINI_MASTER_NAME="Sensei"
GEMINI_BOT_DISPLAY_NAME="Mika"

# 群白名单（留空=全允许）
# 注意：OneBot v12 的 group_id 可能是字符串，这里依然可以写数字或字符串
# GEMINI_GROUP_WHITELIST=[123456789]

# =========================
# OneBot 兼容性（建议保持默认）
# =========================
# 离线消息同步通常依赖非标准 API（get_group_msg_history 等），默认关闭以提升兼容性
GEMINI_OFFLINE_SYNC_ENABLED=false

# 合并转发不可用时，长消息按该长度分片发送（跨实现更稳定）
GEMINI_LONG_MESSAGE_CHUNK_SIZE=800

# =========================
# 工具调用 Loop（对标 AstrBot）
# =========================
GEMINI_TOOL_MAX_ROUNDS=5
GEMINI_TOOL_TIMEOUT_SECONDS=20.0
GEMINI_TOOL_FORCE_FINAL_ON_MAX_ROUNDS=true

# =========================
# 主动发言 chatroom 模式
# =========================
# 仅影响主动发言链路：用“聊天室记录”注入替代逐条历史，避免乱回旧话题
GEMINI_PROACTIVE_CHATROOM_ENABLED=true
GEMINI_PROACTIVE_CHATROOM_HISTORY_LINES=30

# =========================
# 可选：联网搜索
# =========================
# SERPER_API_KEY=""

# =========================
# 可选：代理（外网受限环境）
# =========================
# HTTP_PROXY="http://127.0.0.1:7890"
# HTTPS_PROXY="http://127.0.0.1:7890"
# NO_PROXY="localhost,127.0.0.1"
